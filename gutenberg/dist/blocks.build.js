!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){var o,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var i=n.apply(null,o);i&&e.push(i)}else if("object"===r)for(var a in o)l.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var l={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):(o=[],void 0!==(r=function(){return n}.apply(t,o))&&(e.exports=r))}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);n.n(o),n(3)},function(e,t){wp.i18n.setLocaleData({"":{}},"simple-private-video")},function(e,t,n){"use strict";var o=n(4),r=n(8),l=n(9),i=n(10),a=(n.n(i),n(11)),c=(n.n(a),n(0)),p=n.n(c),__=wp.i18n.__,s=wp.blocks.registerBlockType,u=wp.editor.InnerBlocks,m=wp.element.Fragment,f=$plugin_options.pluginName;s(f+"/self-hosting",{title:__("Private Video - self hosting",f),description:__("Upload and show private videos with self hosting.",f),category:"sumapress",icon:"format-video",supports:{html:!1},keywords:[__("Video player",f),__("Private Video",f),__("Vimeo Amazon S3",f)],getEditWrapperProps:function(e){var t=e.blockAlignment;if("left"===t||"right"===t||"full"===t)return{"data-align":t}},edit:function(e){var t=e.setAttributes,n=e.className,i=e.attributes.content;return wp.element.createElement(m,null,wp.element.createElement(r.a,Object.assign({setAttributes:t},e)),wp.element.createElement(l.a,Object.assign({setAttributes:t},e)),wp.element.createElement(o.a,Object.assign({setAttributes:t},e)),i&&wp.element.createElement("div",{className:p()(n,"spv-border-allow")},wp.element.createElement(u,null)))},save:function(){return wp.element.createElement(u.Content,null)}})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(5),a=n(0),c=n.n(a),p=n(7),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),__=wp.i18n.__,u=wp.element.Component,m=wp.editor,f=m.MediaUpload,w=m.MediaUploadCheck,d=wp.components,h=d.Button,v=d.Icon,b=window.location.href,g=$plugin_options.pluginName,y=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.className,o=e.setAttributes,r=t.videoID;return wp.element.createElement("div",{className:n},r?wp.element.createElement(i.a,null,wp.element.createElement(h,{className:c()("components-icon-button has-text"),isDefault:!0,onClick:function(){return o({videoID:null})}},wp.element.createElement(v,{icon:"no-alt"}),__(" Deselect Video",g)),wp.element.createElement("a",{className:"spv-more-info center",href:"/wp-admin/post.php?post="+r+"&action=edit",target:"_blank"},__("Show video info",g))):wp.element.createElement(i.a,null,wp.element.createElement(w,null,wp.element.createElement(f,{title:__("Select or Upload Private Video",g),onSelect:function(e){return o({videoID:e.id})},value:r,render:function(e){var t=e.open;return wp.element.createElement(h,{className:c()("components-icon-button has-text"),isLarge:!0,onClick:function(){p.a.setUrlPrivate(b),t()}},wp.element.createElement(v,{icon:"upload"}),__("Select or Upload Private Video ",g))},onClose:function(){return p.a.unsetUrlPrivate(b)}}))))}}]),t}(u);t.a=y},function(e,t,n){"use strict";var o=n(6),__=wp.i18n.__,r=wp.components.Icon,l=function(e){var t=e.children;return wp.element.createElement("div",{className:"components-placeholder editor-media-placeholder block-editor-media-placeholder wp-block-video"},wp.element.createElement("div",{className:"components-placeholder__label"},wp.element.createElement("span",{className:"editor-block-icon block-editor-block-icon"},o.a,wp.element.createElement(r,{icon:"lock"})),__("Private Video - self hosting","simple-private-video")),wp.element.createElement("div",{className:"components-placeholder__fieldset"},wp.element.createElement("div",{className:"components-form-file-upload"},t)))};t.a=l},function(e,t,n){"use strict";var o=wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),wp.element.createElement("path",{d:"M4 6.47L5.76 10H20v8H4V6.47M22 4h-4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z"}));t.a=o},function(e,t,n){"use strict";var o={setUrlPrivate:function(e){var t=e+"&file=spv-private";window.history.pushState({path:t},"",t)},unsetUrlPrivate:function(e){window.history.pushState({path:e},"",e)}};t.a=o},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),a=n.n(i),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),__=wp.i18n.__,p=wp.editor,s=p.MediaUpload,u=p.MediaUploadCheck,m=wp.element,f=m.Component,w=m.Fragment,d=wp.editor,h=d.ColorPalette,v=d.InspectorControls,b=wp.components,g=b.ColorIndicator,y=b.Button,E=b.PanelBody,_=b.PanelRow,O=b.ToggleControl,P=b.Icon,k=$plugin_options.pluginName,j=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=t.color,o=t.imageID,r=t.imageUrl,l=t.content,i=e.setAttributes,c=function(e){i({imageID:e.id,imageUrl:e.url})},p=function(){i({imageID:null,imageUrl:null})};return wp.element.createElement(v,null,wp.element.createElement(E,{title:__("Main color",k),initialOpen:!0},wp.element.createElement(_,null,wp.element.createElement("p",{className:"color-indicator"},wp.element.createElement(g,{colorValue:n}),wp.element.createElement("strong",null,n))),wp.element.createElement(h,{value:n,onChange:function(e){return i({color:e})}})),wp.element.createElement(E,{title:__("Preload image",k),initialOpen:!0},wp.element.createElement(u,null,wp.element.createElement(s,{title:__("Select or Upload Image",k),onSelect:c,value:o,render:function(e){var t=e.open;return wp.element.createElement(w,null,o?wp.element.createElement(w,null,wp.element.createElement(y,{className:a()("components-icon-button has-text"),isDefault:!0,onClick:p},wp.element.createElement(P,{icon:"no-alt"}),__(" Deselect Image",k)),wp.element.createElement("a",{className:"spv-more-info margin-bottom",href:"/wp-admin/post.php?post="+o+"&action=edit",target:"_blank"},__("Show image info",k)),wp.element.createElement("img",{src:r})):wp.element.createElement(y,{className:a()("components-icon-button has-text"),isLarge:!0,onClick:t},wp.element.createElement(P,{icon:"upload"}),__("Select or Upload Image",k)))}}))),wp.element.createElement(E,{title:__("Alternative content",k),initialOpen:!1},wp.element.createElement(_,null,wp.element.createElement("p",null,__("Add custom content to show when video it is not allowed.",k))),wp.element.createElement(O,{label:__("Add alternative content",k),checked:l,onChange:function(e){return i({content:e})}})),wp.element.createElement(E,{title:__("Custom restrictions",k),initialOpen:!1},wp.element.createElement(_,null,wp.element.createElement("p",null,__("By default the video is show only to logged user, but you can set more restriction with custom configuration by the filter: ",k),wp.element.createElement("strong",null,"spv-show-private-video"))),wp.element.createElement(_,null,wp.element.createElement("p",null,__("Example with Restric Content Pro:",k))),wp.element.createElement(_,null,wp.element.createElement("p",null,wp.element.createElement("code",{className:a()("spv-example-code")},"if ( function_exists( 'rcp_user_has_active_membership' ) ) {\n\t\t\t\t\t\t\t\tadd_filter( 'spv-show-private-video', function( $show_private_video, $attributes ){\n\t\t\t\t\t\t\t\t\treturn rcp_user_has_active_membership();\n\t\t\t\t\t\t\t\t}, 10, 2 );\n\t\t\t\t\t\t\t}")))))}}]),t}(f);t.a=j},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.element.Component,c=wp.editor,p=c.BlockControls,s=c.BlockAlignmentToolbar,u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.attributes.blockAlignment,n=e.setAttributes;return wp.element.createElement(p,null,wp.element.createElement(s,{value:t,onChange:function(e){return n({blockAlignment:e})}}))}}]),t}(a);t.a=u},function(e,t){},function(e,t){}]);